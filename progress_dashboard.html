
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progress Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .dashboard-container {
            padding: 20px;
            text-align: center;
        }
        .progress-stats {
            font-size: 1.2em;
            margin: 20px 0;
        }
        .module-progress {
            margin: 10px 0;
            background: #f0f0f0;
            border-radius: 10px;
            padding: 10px;
        }
        .module-progress h3 {
            margin-bottom: 5px;
        }
        .progress-bar-inner {
            height: 20px;
            background: linear-gradient(to right, #00b09b, #96c93d);
            border-radius: 10px;
            width: 0;
            transition: width 0.5s;
        }
    </style>
</head>
<body onload="loadDashboard()">
    <header>
        <h1>Progress Dashboard</h1>
        <p>Track your progress across all modules, Dr. Mai.</p>
    </header>
    <main class="dashboard-container">
        <div class="progress-stats" id="overallStats">Loading progress...</div>
        <div class="module-progress">
            <h3>Module 1: Grammar</h3>
            <div style="width:100%;background:#ddd;border-radius:10px;">
                <div class="progress-bar-inner" id="module1Bar"></div>
            </div>
        </div>
        <div class="module-progress">
            <h3>Module 2: Vocabulary</h3>
            <div style="width:100%;background:#ddd;border-radius:10px;">
                <div class="progress-bar-inner" id="module2Bar"></div>
            </div>
        </div>
        <div class="module-progress">
            <h3>Module 3: Listening</h3>
            <div style="width:100%;background:#ddd;border-radius:10px;">
                <div class="progress-bar-inner" id="module3Bar"></div>
            </div>
        </div>
        <div class="module-progress">
            <h3>Module 4: Speaking</h3>
            <div style="width:100%;background:#ddd;border-radius:10px;">
                <div class="progress-bar-inner" id="module4Bar"></div>
            </div>
        </div>
        <div class="module-progress">
            <h3>Module 5: Writing</h3>
            <div style="width:100%;background:#ddd;border-radius:10px;">
                <div class="progress-bar-inner" id="module5Bar"></div>
            </div>
        </div>
        <p><a href="index.html">Back to Main Page</a></p>
    </main>
    <footer>
        <p>&copy; 2025 Dr. Mai's B1 English Course</p>
    </footer>
    <script>
        function loadDashboard() {
            const totalLessons = 30;
            let completed = 0;
            const moduleRanges = {
                1: [1, 7],
                2: [8, 14],
                3: [15, 21],
                4: [22, 28],
                5: [29, 30]
            };
            const moduleCompleted = {1:0, 2:0, 3:0, 4:0, 5:0};
            const moduleTotal = {1:7, 2:7, 3:7, 4:7, 5:2};

            for (let i = 1; i <= totalLessons; i++) {
                if (localStorage.getItem("lesson_" + i) === "1") {
                    completed++;
                    for (let m = 1; m <= 5; m++) {
                        if (i >= moduleRanges[m][0] && i <= moduleRanges[m][1]) {
                            moduleCompleted[m]++;
                        }
                    }
                }
            }

            document.getElementById("overallStats").innerHTML = 
                completed + " / " + totalLessons + " lessons completed (" + Math.round((completed / totalLessons) * 100) + "%)";

            for (let m = 1; m <= 5; m++) {
                const bar = document.getElementById("module" + m + "Bar");
                bar.style.width = (moduleCompleted[m] / moduleTotal[m] * 100) + "%";
            }
        }
    </script>
</body>
</html>
